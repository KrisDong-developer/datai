{
	"nodes":[
		{"id":"node_login_strategy","type":"text","text":"## [[LoginStrategy]]\n> [!info] èŒè´£æè¿°\n> ç™»å½•ç­–ç•¥æ¥å£ï¼Œå®šä¹‰ä¸åŒç™»å½•æ–¹å¼çš„é€šç”¨æ–¹æ³•\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `login()`: æ‰§è¡Œç™»å½•æ“ä½œ\n- `refreshToken()`: åˆ·æ–°Token\n- `logout()`: æ‰§è¡Œç™»å‡ºæ“ä½œ\n- `getLoginType()`: è·å–ç™»å½•ç±»å‹\n\n### ç­–ç•¥å®ç°\n- [[OAuth2LoginStrategy]]: OAuth 2.0ç™»å½•ç­–ç•¥\n- [[LegacyCredentialLoginStrategy]]: ä¼ ç»Ÿå‡­è¯ç™»å½•ç­–ç•¥\n- [[SalesforceCliLoginStrategy]]: Salesforce CLIç™»å½•ç­–ç•¥\n- [[SessionIdLoginStrategy]]: Session IDç™»å½•ç­–ç•¥\n\n### ç­–ç•¥å·¥å‚\n- [[LoginStrategyFactory]]: ç™»å½•ç­–ç•¥å·¥å‚ï¼Œè´Ÿè´£åˆ›å»ºä¸åŒçš„ç™»å½•ç­–ç•¥\n\n```mermaid\nclassDiagram\n    LoginStrategy <|-- OAuth2LoginStrategy\n    LoginStrategy <|-- LegacyCredentialLoginStrategy\n    LoginStrategy <|-- SalesforceCliLoginStrategy\n    LoginStrategy <|-- SessionIdLoginStrategy\n    LoginStrategyFactory ..> LoginStrategy\n```","parentNode":"group_auth","x":-1000,"y":2650,"width":600,"height":350,"color":"5"},
		{"id":"node_auth_mapper","type":"text","text":"## è®¤è¯Mapper\n> [!info] èŒè´£æè¿°\n> å¤„ç†è®¤è¯ç›¸å…³æ•°æ®çš„æŒä¹…åŒ–æ“ä½œ\n\n### æ ¸å¿ƒMapper\n- [[DataiSfLoginHistoryMapper]]: ç™»å½•å†å²Mapper\n- [[DataiSfLoginSessionMapper]]: ç™»å½•ä¼šè¯Mapper\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›æ•°æ®è®¿é—®å±‚ï¼Œå¤„ç†æ•°æ®åº“æ“ä½œ","parentNode":"group_auth","x":-400,"y":2000,"width":500,"height":200,"color":"6"},
		{"id":"node_integration_task","type":"text","text":"## é›†æˆä»»åŠ¡\n> [!info] èŒè´£æè¿°\n> å¤„ç†Salesforceçš„å®šæ—¶åŒæ­¥å’Œé™æµé‡ç½®ç­‰ä»»åŠ¡\n\n### æ ¸å¿ƒä»»åŠ¡\n- [[RateLimitResetTask]]: é™æµé‡ç½®ä»»åŠ¡\n- [[SalesforceSyncTask]]: SalesforceåŒæ­¥ä»»åŠ¡\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `execute()`: æ‰§è¡Œå®šæ—¶ä»»åŠ¡\n- `resetRateLimits()`: é‡ç½®é™æµ\n- `syncData()`: åŒæ­¥æ•°æ®\n\n**è®¾è®¡æ„å›¾**ï¼šé€šè¿‡å®šæ—¶ä»»åŠ¡å¤„ç†Salesforceçš„å‘¨æœŸæ€§æ“ä½œï¼Œç¡®ä¿ç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œå’Œæ•°æ®çš„åŒæ­¥æ›´æ–°","parentNode":"group_integration","x":0,"y":3000,"width":500,"height":200,"color":"4"},
		{"id":"node_setting_utils","type":"text","text":"## é…ç½®å·¥å…·\n> [!info] èŒè´£æè¿°\n> æä¾›é…ç½®ç›¸å…³çš„å·¥å…·æ–¹æ³•\n\n### æ ¸å¿ƒå·¥å…·\n- [[AuditLogObjectNameResolver]]: å®¡è®¡æ—¥å¿—å¯¹è±¡åè§£æå™¨\n\n### æ ¸å¿ƒåŠŸèƒ½\n- **å¯¹è±¡åè§£æ**: è§£æå®¡è®¡æ—¥å¿—ä¸­çš„å¯¹è±¡å\n- **å·¥å…·æ–¹æ³•**: æä¾›é…ç½®ç®¡ç†æ‰€éœ€çš„å…¶ä»–å·¥å…·æ–¹æ³•\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›é…ç½®ç®¡ç†æ‰€éœ€çš„å·¥å…·æ–¹æ³•ï¼Œç®€åŒ–ä»£ç å®ç°ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§","parentNode":"group_setting","x":1300,"y":3000,"width":600,"height":150,"color":"6"},
		{"id":"node_auth_model","type":"text","text":"## è®¤è¯æ¨¡å‹\n> [!info] èŒè´£æè¿°\n> å®šä¹‰è®¤è¯ç›¸å…³çš„æ•°æ®æ¨¡å‹\n\n### é¢†åŸŸæ¨¡å‹\n- [[DataiSfLoginHistory]]: ç™»å½•å†å²è®°å½•\n- [[DataiSfLoginSession]]: ç™»å½•ä¼šè¯ä¿¡æ¯\n- [[SalesforceLoginRequest]]: ç™»å½•è¯·æ±‚\n- [[SalesforceLoginResult]]: ç™»å½•ç»“æœ\n\n### DTO\n- [[DataiSfLoginHistoryDto]]: ç™»å½•å†å²DTO\n- [[DataiSfLoginSessionDto]]: ç™»å½•ä¼šè¯DTO\n\n### VO\n- [[DataiSfLoginHistoryVo]]: ç™»å½•å†å²VO\n- [[DataiSfLoginSessionVo]]: ç™»å½•ä¼šè¯VO\n\n**è®¾è®¡æ„å›¾**ï¼šå®šä¹‰æ¸…æ™°çš„æ•°æ®æ¨¡å‹ï¼Œåˆ†ç¦»é¢†åŸŸæ¨¡å‹ã€DTOå’ŒVOï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§","parentNode":"group_auth","x":-950,"y":3150,"width":500,"height":300,"color":"1"},
		{"id":"node_common_constant","type":"text","text":"## é€šç”¨å¸¸é‡\n> [!info] èŒè´£æè¿°\n> å®šä¹‰Salesforceç›¸å…³çš„å¸¸é‡\n\n### æ ¸å¿ƒå¸¸é‡ç±»\n- [[SalesforceConstants]]: Salesforceæ ¸å¿ƒå¸¸é‡\n- [[SalesforceConfigConstants]]: Salesforceé…ç½®å¸¸é‡\n- [[SalesforceConnectionConstants]]: Salesforceè¿æ¥å¸¸é‡\n\n### å¸¸é‡åˆ†ç±»\n- **APIç‰ˆæœ¬**: REST APIã€Bulk API v1ã€Bulk API v2ç‰ˆæœ¬å·\n- **è¿æ¥ç«¯ç‚¹**: å„ç§APIçš„ç«¯ç‚¹åç¼€\n- **è¿æ¥ç±»å‹**: SOAPã€RESTã€Bulk API v1ã€Bulk API v2\n- **HTTPç›¸å…³**: HTTPæ–¹æ³•ã€å†…å®¹ç±»å‹ã€æˆæƒå¤´\n- **æ—¥æœŸæ ¼å¼**: Salesforceæ—¥æœŸæ—¶é—´æ ¼å¼\n- **æ‰¹é‡æ“ä½œ**: Bulk APIç›¸å…³å¸¸é‡\n\n**è®¾è®¡æ„å›¾**ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰Salesforceç›¸å…³å¸¸é‡ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§","parentNode":"group_common","x":950,"y":300,"width":500,"height":300,"color":"6"},
		{"id":"node_common_exception","type":"text","text":"## é€šç”¨å¼‚å¸¸\n> [!info] èŒè´£æè¿°\n> å®šä¹‰Salesforceç›¸å…³çš„å¼‚å¸¸ç±»\n\n### æ ¸å¿ƒå¼‚å¸¸ç±»\n- [[SalesforceAuthException]]: Salesforceè®¤è¯å¼‚å¸¸\n- [[SalesforceLoginException]]: Salesforceç™»å½•å¼‚å¸¸\n- [[SalesforceOAuthException]]: Salesforce OAuthå¼‚å¸¸\n- [[ExtractException]]: æ•°æ®æå–å¼‚å¸¸\n- [[LoadException]]: æ•°æ®åŠ è½½å¼‚å¸¸\n- [[NotLoggedInException]]: æœªç™»å½•å¼‚å¸¸\n- [[OperationException]]: æ“ä½œå¼‚å¸¸\n- [[RateLimitExceededException]]: é™æµå¼‚å¸¸\n- [[PasswordExpiredException]]: å¯†ç è¿‡æœŸå¼‚å¸¸\n\n### å¼‚å¸¸ç‰¹ç‚¹\n- **é”™è¯¯ä»£ç **: å¤§å¤šæ•°å¼‚å¸¸éƒ½åŒ…å«é”™è¯¯ä»£ç å­—æ®µ\n- **å±‚æ¬¡ç»“æ„**: åŸºäºRuntimeExceptionï¼Œä¾¿äºå¼‚å¸¸å¤„ç†\n- **è¯¦ç»†ä¿¡æ¯**: æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œä¾¿äºè°ƒè¯•\n\n**è®¾è®¡æ„å›¾**ï¼šå®šä¹‰ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œé”™è¯¯å¤„ç†èƒ½åŠ›","parentNode":"group_common","x":950,"y":800,"width":500,"height":300,"color":"1"},
		{"id":"node_common_util","type":"text","text":"## é€šç”¨å·¥å…·\n> [!info] èŒè´£æè¿°\n> æä¾›Salesforceç›¸å…³çš„å·¥å…·æ–¹æ³•\n\n### æ ¸å¿ƒå·¥å…·ç±»\n- [[SoqlBuilder]]: SOQLæŸ¥è¯¢æ„å»ºå™¨\n- [[SoqlUtil]]: SOQLå·¥å…·ç±»\n- [[ApiListUtils]]: APIåˆ—è¡¨å·¥å…·\n- [[IdUtils]]: IDå·¥å…·\n- [[ValidationUtils]]: éªŒè¯å·¥å…·\n\n### SoqlBuilder æ ¸å¿ƒåŠŸèƒ½\n- **æŸ¥è¯¢æ„å»º**: æ”¯æŒSELECTã€FROMã€WHEREã€GROUP BYã€HAVINGã€ORDER BYã€LIMITã€OFFSET\n- **æ¡ä»¶æ“ä½œ**: æ”¯æŒ=ã€!=ã€>ã€>=ã€<ã€<=ã€LIKEã€INã€NOT INã€= NULLã€!= NULL\n- **å€¼æ ¼å¼åŒ–**: è‡ªåŠ¨æ ¼å¼åŒ–ä¸åŒç±»å‹çš„å€¼ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ã€æ—¥æœŸã€å¸ƒå°”å€¼ç­‰\n- **å®‰å…¨å¤„ç†**: é˜²æ­¢SQLæ³¨å…¥ï¼Œè‡ªåŠ¨è½¬ä¹‰å•å¼•å·\n- **COUNTæŸ¥è¯¢**: æ”¯æŒæ„å»ºCOUNTæŸ¥è¯¢è¯­å¥\n\n```mermaid\nflowchart TD\n    A[åˆ›å»ºSoqlBuilder] --> B[è®¾ç½®SELECTå­—æ®µ]\n    B --> C[è®¾ç½®FROMå¯¹è±¡]\n    C --> D[æ·»åŠ WHEREæ¡ä»¶]\n    D --> E[æ·»åŠ ORDER BY]\n    E --> F[è®¾ç½®LIMIT]\n    F --> G[æ„å»ºSOQLè¯­å¥]\n```","parentNode":"group_common","x":950,"y":1300,"width":500,"height":350,"color":"6"},
		{"id":"node_common_param","type":"text","text":"## é€šç”¨å‚æ•°\n> [!info] èŒè´£æè¿°\n> å®šä¹‰Salesforceç›¸å…³çš„å‚æ•°ç±»\n\n### æ ¸å¿ƒå‚æ•°ç±»\n- [[SalesforceParam]]: SalesforceåŸºç¡€å‚æ•°\n- [[SalesforceStockParam]]: Salesforceåº“å­˜å‚æ•°\n- [[SalesforceIncrementParam]]: Salesforceå¢é‡å‚æ•°\n\n**è®¾è®¡æ„å›¾**ï¼šå®šä¹‰ç»Ÿä¸€çš„å‚æ•°ç±»ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå‚æ•°ä¼ é€’çš„è§„èŒƒæ€§","parentNode":"group_common","x":950,"y":1750,"width":500,"height":200,"color":"5"},
		{"id":"node_warning","type":"text","text":"## âš ï¸ æ³¨æ„äº‹é¡¹\n\n### æ½œåœ¨é—®é¢˜\n1. **ä¼šè¯ç®¡ç†**ï¼šéœ€è¦æ³¨æ„ä¼šè¯è¿‡æœŸå’Œè‡ªåŠ¨é‡è¿çš„å¤„ç†\n2. **é”™è¯¯å¤„ç†**ï¼šéœ€è¦å®Œå–„å„ç§Salesforce APIé”™è¯¯çš„å¤„ç†æœºåˆ¶\n3. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯¹äºå¤§é‡æ•°æ®æ“ä½œï¼Œéœ€è¦åˆç†ä½¿ç”¨Bulk API\n4. **å®‰å…¨æ€§**ï¼šOAuth2æµç¨‹éœ€è¦ç¡®ä¿PKCEçš„æ­£ç¡®å®ç°\n5. **SOQLé™åˆ¶**ï¼šæ³¨æ„SOQLçš„å„ç§é™åˆ¶ï¼Œå¦‚æŸ¥è¯¢è¿”å›è®°å½•æ•°ã€OFFSETä¸Šé™ç­‰\n\n### å»ºè®®\n- å¢åŠ æ›´å¤šçš„ç›‘æ§å’Œæ—¥å¿—\n- å®ç°æ›´ç»†ç²’åº¦çš„é”™è¯¯å¤„ç†\n- ä¼˜åŒ–è¿æ¥ç®¡ç†ï¼Œå‡å°‘ä¸å¿…è¦çš„APIè°ƒç”¨\n- åˆç†ä½¿ç”¨SOQLæ„å»ºå™¨ï¼Œé¿å…æ‰‹åŠ¨æ‹¼æ¥SOQLè¯­å¥","x":950,"y":2100,"width":500,"height":250,"color":"3"},
		{"id":"node_common_converter","type":"text","text":"## ç±»å‹è½¬æ¢å™¨\n> [!info] èŒè´£æè¿°\n> æä¾›Salesforceç›¸å…³çš„ç±»å‹è½¬æ¢åŠŸèƒ½\n\n### æ ¸å¿ƒè½¬æ¢å™¨\n- [[SalesforceDataTypeConverter]]: Salesforceæ•°æ®ç±»å‹è½¬æ¢å™¨\n- [[BooleanConverter]]: Booleanè½¬æ¢å™¨\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›ç±»å‹è½¬æ¢åŠŸèƒ½ï¼Œæ”¯æŒSalesforceæ•°æ®ç±»å‹ä¸Javaç±»å‹ä¹‹é—´çš„è½¬æ¢","parentNode":"group_common","x":950,"y":2500,"width":500,"height":200,"color":"6"},
		{"id":"node_integration_mapper","type":"text","text":"## é›†æˆMapper\n> [!info] èŒè´£æè¿°\n> å¤„ç†é›†æˆç›¸å…³æ•°æ®çš„æŒä¹…åŒ–æ“ä½œ\n\n### æ ¸å¿ƒMapper\n- [[CustomMapper]]: è‡ªå®šä¹‰Mapper\n- [[SalesforceMapper]]: Salesforce Mapper\n- [[DataiIntegrationApiCallLogMapper]]: APIè°ƒç”¨æ—¥å¿—Mapper\n- [[DataiIntegrationBatchMapper]]: æ‰¹å¤„ç†ä»»åŠ¡Mapper\n- [[DataiIntegrationFieldMapper]]: å­—æ®µæ˜ å°„Mapper\n- [[DataiIntegrationObjectMapper]]: å¯¹è±¡æ˜ å°„Mapper\n- [[DataiIntegrationRateLimitMapper]]: é™æµè®°å½•Mapper\n- [[DataiIntegrationSyncLogMapper]]: åŒæ­¥æ—¥å¿—Mapper\n- [[DataiIntegrationRealtimeSyncLogMapper]]: å®æ—¶åŒæ­¥æ—¥å¿—Mapper\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›é›†æˆæ•°æ®çš„è®¿é—®å±‚ï¼Œå¤„ç†æ•°æ®åº“æ“ä½œï¼Œä¸ºæœåŠ¡å±‚æä¾›æ•°æ®æ”¯æŒ","parentNode":"group_integration","x":0,"y":3450,"width":500,"height":200,"color":"6"},
		{"id":"node_realtime_sync","type":"text","text":"## å®æ—¶æ•°æ®åŒæ­¥\n> [!info] èŒè´£æè¿°\n> å®ç°Salesforce Pub/Sub APIäº‹ä»¶è®¢é˜…å’Œå¤„ç†ï¼Œæ”¯æŒå®æ—¶æ•°æ®åŒæ­¥\n\n### æ ¸å¿ƒç»„ä»¶\n- [[EventSubscriber]]: äº‹ä»¶è®¢é˜…å™¨ï¼Œè®¢é˜…Salesforce Event Busäº‹ä»¶\n- [[PubSubEventSubscriberImpl]]: Pub/Sub APIäº‹ä»¶è®¢é˜…å™¨å®ç°\n- [[EventProcessor]]: äº‹ä»¶å¤„ç†å™¨ï¼Œè§£æå’Œå¤„ç†æ•è·çš„å˜æ›´äº‹ä»¶\n- [[DataSynchronizer]]: æ•°æ®åŒæ­¥å™¨ï¼Œå°†å˜æ›´æ•°æ®åŒæ­¥è‡³æœ¬åœ°æ•°æ®åº“\n- [[ObjectRegistry]]: å¯¹è±¡æ³¨å†Œè¡¨ï¼Œç®¡ç†æ‰€æœ‰å¯ç”¨å®æ—¶åŒæ­¥çš„å¯¹è±¡\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `startSubscription()`: å¯åŠ¨Salesforce Event Busè®¢é˜…\n- `processEvent()`: å¤„ç†æ•è·çš„å˜æ›´äº‹ä»¶\n- `processEventBatch()`: å¤„ç†Pub/Sub APIäº‹ä»¶æ‰¹æ¬¡\n- `synchronizeData()`: åŒæ­¥æ•°æ®è‡³æœ¬åœ°æ•°æ®åº“\n- `registerObject()`: æ³¨å†Œå¯ç”¨å®æ—¶åŒæ­¥çš„å¯¹è±¡\n\n**è®¾è®¡æ„å›¾**ï¼šå®ç°Salesforce Pub/Sub APIå®æ—¶åŒæ­¥åŠŸèƒ½ï¼Œé€šè¿‡è®¢é˜…Event Buså®æ—¶æ•è·æ•°æ®å˜æ›´å¹¶åŒæ­¥è‡³æœ¬åœ°æ•°æ®åº“ï¼Œæä¾›é«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„å®æ—¶æ•°æ®åŒæ­¥èƒ½åŠ›","parentNode":"group_integration","x":0,"y":2150,"width":500,"height":350,"color":"4"},
		{"id":"node_realtime_sync_log","type":"text","text":"## å®æ—¶åŒæ­¥æ—¥å¿—\n> [!info] èŒè´£æè¿°\n> è®°å½•å®æ—¶åŒæ­¥æ“ä½œçš„è¯¦ç»†ä¿¡æ¯\n\n### æ ¸å¿ƒç»„ä»¶\n- [[DataiIntegrationRealtimeSyncLog]]: å®æ—¶åŒæ­¥æ—¥å¿—å®ä½“ç±»\n- [[DataiIntegrationRealtimeSyncLogController]]: å®æ—¶åŒæ­¥æ—¥å¿—æ§åˆ¶å™¨\n- [[DataiIntegrationRealtimeSyncLogService]]: å®æ—¶åŒæ­¥æ—¥å¿—æœåŠ¡\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `recordSyncLog()`: è®°å½•åŒæ­¥æ“ä½œæ—¥å¿—\n- `querySyncLogs()`: æŸ¥è¯¢åŒæ­¥æ“ä½œæ—¥å¿—\n- `exportSyncLogs()`: å¯¼å‡ºåŒæ­¥æ“ä½œæ—¥å¿—\n\n**è®¾è®¡æ„å›¾**ï¼šè®°å½•å®æ—¶åŒæ­¥æ“ä½œçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ”¯æŒæ—¥å¿—æŸ¥è¯¢ã€å¯¼å‡ºå’Œåˆ†æåŠŸèƒ½","parentNode":"group_integration","x":850,"y":2600,"width":500,"height":300,"color":"4"},
		{"id":"node_integration_connections","type":"text","text":"## Salesforceè¿æ¥ç±»å‹\n> [!info] èŒè´£æè¿°\n> æä¾›ä¸Salesforceçš„å„ç§è¿æ¥æ–¹å¼\n\n### è¿æ¥ç±»å‹\n- **Bulk API v1**ï¼šæ‰¹é‡æ•°æ®æ“ä½œ\n- **Bulk API v2**ï¼šæ›´é«˜æ•ˆçš„æ‰¹é‡æ“ä½œ\n- **Partner API**ï¼šå…ƒæ•°æ®å’Œå¤æ‚æ“ä½œ\n- **REST API**ï¼šæ ‡å‡†RESTæ¥å£\n\n### è¿æ¥ç®¡ç†\n- ä¼šè¯ç®¡ç†\n- è¿æ¥æ± \n- é”™è¯¯å¤„ç†\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›å¤šç§è¿æ¥æ–¹å¼ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚","parentNode":"group_integration","x":360,"y":2600,"width":500,"height":300,"color":"4"},
		{"id":"node_integration_core","type":"text","text":"## é›†æˆæ ¸å¿ƒ\n> [!info] èŒè´£æè¿°\n> æä¾›ä¸Salesforceçš„å„ç§è¿æ¥æ–¹å¼\n\n### è¿æ¥æ¥å£\n- [[IBulkV1Connection]]: Bulk API v1è¿æ¥æ¥å£\n- [[IBulkV2Connection]]: Bulk API v2è¿æ¥æ¥å£\n- [[IPartnerV1Connection]]: Partner APIè¿æ¥æ¥å£\n- [[IRESTConnection]]: REST APIè¿æ¥æ¥å£\n\n### è¿æ¥å®ç°\n- [[BulkV1Connection]]: Bulk API v1è¿æ¥å®ç°\n- [[BulkV2Connection]]: Bulk API v2è¿æ¥å®ç°\n- [[PartnerV1Connection]]: Partner APIè¿æ¥å®ç°\n- [[RESTConnection]]: REST APIè¿æ¥å®ç°\n- [[PubSubClient]]: Pub/Sub APIå®¢æˆ·ç«¯å®ç°\n\n### ä¼šè¯ç®¡ç†\n- [[SessionManager]]: ä¼šè¯ç®¡ç†å™¨\n\n### è¿æ¥å·¥å‚\n- [[ISalesforceConnectionFactory]]: è¿æ¥å·¥å‚æ¥å£\n- [[AbstractConnectionFactory]]: æŠ½è±¡è¿æ¥å·¥å‚\n- [[BulkV1ConnectionFactory]]: Bulk API v1è¿æ¥å·¥å‚\n- [[BulkV2ConnectionFactory]]: Bulk API v2è¿æ¥å·¥å‚\n- [[RESTConnectionFactory]]: REST APIè¿æ¥å·¥å‚\n- [[SOAPConnectionFactory]]: SOAPè¿æ¥å·¥å‚\n- [[PubSubConnectionFactory]]: Pub/Sub APIè¿æ¥å·¥å‚\n\n```mermaid\nclassDiagram\n    IBulkV1Connection <|-- BulkV1Connection\n    IBulkV2Connection <|-- BulkV2Connection\n    IPartnerV1Connection <|-- PartnerV1Connection\n    IRESTConnection <|-- RESTConnection\n    ISalesforceConnectionFactory <|-- AbstractConnectionFactory\n    AbstractConnectionFactory <|-- BulkV1ConnectionFactory\n    AbstractConnectionFactory <|-- BulkV2ConnectionFactory\n    AbstractConnectionFactory <|-- RESTConnectionFactory\n    AbstractConnectionFactory <|-- SOAPConnectionFactory\n    AbstractConnectionFactory <|-- PubSubConnectionFactory\n    BulkV1ConnectionFactory ..> BulkV1Connection\n    BulkV2ConnectionFactory ..> BulkV2Connection\n    RESTConnectionFactory ..> RESTConnection\n    PubSubConnectionFactory ..> PubSubClient\n    SessionManager ..> RESTConnection\n```\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›ä¸Salesforceçš„å¤šç§è¿æ¥æ–¹å¼ï¼Œæ”¯æŒä¸åŒAPIçš„äº¤äº’éœ€æ±‚ï¼Œé€šè¿‡å·¥å‚æ¨¡å¼ç»Ÿä¸€ç®¡ç†è¿æ¥çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬æ–°å¢çš„Pub/Sub APIè¿æ¥æ”¯æŒ
		{"id":"node_session_manager_detail","type":"text","text":"## [[SessionManager]]\n> [!info] èŒè´£æè¿°\n> ä¼šè¯ç®¡ç†ç±»ï¼Œç”¨äºè·å–Salesforceä¼šè¯ä¿¡æ¯ï¼Œæ”¯æŒä¼šè¯å¤±æ•ˆæ—¶è‡ªåŠ¨é‡æ–°ç™»å½•\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `getCurrentLoginResult()`: è·å–å½“å‰ç™»å½•ç»“æœ\n- `autoLogin()`: è‡ªåŠ¨é‡æ–°ç™»å½•\n- `getCurrentSession()`: è·å–å½“å‰Session ID\n- `getInstanceUrl()`: è·å–å®ä¾‹URL\n- `isSessionValid()`: æ£€æŸ¥ä¼šè¯æ˜¯å¦æœ‰æ•ˆ\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `ISalesforceLoginService`: ç™»å½•æœåŠ¡\n- `IDataiSfLoginHistoryService`: ç™»å½•å†å²æœåŠ¡\n\n```mermaid\nflowchart TD\n    A[è·å–ä¼šè¯ä¿¡æ¯] --> B{ç¼“å­˜ä¸­æœ‰ä¼šè¯?}\n    B -->|æ˜¯| C{ä¼šè¯æœ‰æ•ˆ?}\n    B -->|å¦| D[è‡ªåŠ¨é‡æ–°ç™»å½•]\n    C -->|æ˜¯| E[è¿”å›ä¼šè¯ä¿¡æ¯]\n    C -->|å¦| D\n    D --> F{ç™»å½•æˆåŠŸ?}\n    F -->|æ˜¯| G[æ›´æ–°ç¼“å­˜]\n    F -->|å¦| H[æŠ›å‡ºå¼‚å¸¸]\n    G --> E\n```","parentNode":"group_integration","x":-400,"y":1025,"width":500,"height":400,"color":"4"},
		{"id":"node_login_history_controller","type":"text","text":"## [[DataiSfLoginHistoryController]]\n> [!info] èŒè´£æè¿°\n> å¤„ç†Salesforceç™»å½•å†å²ç›¸å…³çš„HTTPè¯·æ±‚\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- ç®¡ç†ç™»å½•å†å²è®°å½•çš„CRUDæ“ä½œ\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `IDataiSfLoginHistoryService`: ç™»å½•å†å²æœåŠ¡\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›ç™»å½•å†å²çš„ç®¡ç†æ¥å£ï¼Œæ–¹ä¾¿æŸ¥è¯¢å’Œåˆ†æç™»å½•è®°å½•","parentNode":"group_auth","x":-2400,"y":590,"width":500,"height":250,"color":"5"},
		{"id":"node_login_session_controller","type":"text","text":"## [[DataiSfLoginSessionController]]\n> [!info] èŒè´£æè¿°\n> å¤„ç†Salesforceç™»å½•ä¼šè¯ç›¸å…³çš„HTTPè¯·æ±‚\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- ç®¡ç†ç™»å½•ä¼šè¯çš„CRUDæ“ä½œ\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `IDataiSfLoginSessionService`: ç™»å½•ä¼šè¯æœåŠ¡\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›ç™»å½•ä¼šè¯çš„ç®¡ç†æ¥å£ï¼Œæ–¹ä¾¿æŸ¥è¯¢å’Œç®¡ç†å½“å‰æ´»è·ƒä¼šè¯","parentNode":"group_auth","x":-2900,"y":1225,"width":500,"height":250,"color":"5"},
		{"id":"node_auth_controller","type":"text","text":"## [[DataISfLoginController]]\n> [!info] èŒè´£æè¿°\n> å¤„ç†Salesforceç™»å½•ç›¸å…³çš„HTTPè¯·æ±‚ï¼ŒåŒ…æ‹¬ç™»å½•ã€ç™»å‡ºã€è·å–å½“å‰ç™»å½•ä¿¡æ¯å’Œè‡ªåŠ¨ç™»å½•\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `login()`: æ‰§è¡ŒSalesforceç™»å½•æ“ä½œ\n- `logout()`: æ‰§è¡ŒSalesforceç™»å‡ºæ“ä½œ\n- `getCurrentLoginInfo()`: è·å–å½“å‰ç™»å½•ä¿¡æ¯\n- `autoLogin()`: è‡ªåŠ¨ç™»å½•\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `ISalesforceLoginService`: ç™»å½•æœåŠ¡\n- `IDataiSfLoginHistoryService`: ç™»å½•å†å²æœåŠ¡\n\n```mermaid\nflowchart TD\n    A[æ¥æ”¶ç™»å½•è¯·æ±‚] --> B[å‚æ•°éªŒè¯]\n    B --> C[è°ƒç”¨ç™»å½•æœåŠ¡]\n    C --> D{ç™»å½•æˆåŠŸ?}\n    D -->|æ˜¯| E[è¿”å›æˆåŠŸå“åº”]\n    D -->|å¦| F[è¿”å›å¤±è´¥å“åº”]\n    E --> G[è®°å½•ç™»å½•å†å²]\n    F --> G\n```","parentNode":"group_auth","x":-1900,"y":-160,"width":500,"height":350,"color":"5"},
		{"id":"node_oauth2_strategy","type":"text","text":"## [[OAuth2LoginStrategy]]\n> [!info] èŒè´£æè¿°\n> OAuth 2.0ç™»å½•ç­–ç•¥å®ç°ï¼Œæ”¯æŒå¤šç§æˆæƒæµç¨‹\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `login()`: æ‰§è¡ŒOAuth 2.0ç™»å½•\n- `refreshToken()`: åˆ·æ–°Token\n- `logout()`: æ‰§è¡Œç™»å‡ºæ“ä½œ\n- `generateAuthorizationUrl()`: ç”ŸæˆæˆæƒURL\n\n### æ”¯æŒçš„æˆæƒæµç¨‹\n- å¯†ç æµç¨‹\n- å®¢æˆ·ç«¯å‡­è¯æµç¨‹\n- æˆæƒç æµç¨‹ï¼ˆæ”¯æŒPKCEï¼‰\n\n### ğŸ·ï¸ è®¾è®¡æ¨¡å¼\n- **ç­–ç•¥æ¨¡å¼**: å®ç°LoginStrategyæ¥å£\n\n```mermaid\nflowchart TD\n    A[å¼€å§‹OAuth2ç™»å½•] --> B{é€‰æ‹©æˆæƒç±»å‹}\n    B -->|å¯†ç æµç¨‹| C[æ‰§è¡Œå¯†ç æˆæƒ]\n    B -->|å®¢æˆ·ç«¯å‡­è¯| D[æ‰§è¡Œå®¢æˆ·ç«¯å‡­è¯æˆæƒ]\n    B -->|æˆæƒç | E[ç”ŸæˆæˆæƒURL]\n    E --> F[ç”¨æˆ·æˆæƒ]\n    F --> G[è·å–æˆæƒç ]\n    G --> H[æ‰§è¡Œæˆæƒç æˆæƒ]\n    C --> I[è·å–Token]\n    D --> I\n    H --> I\n    I --> J[å­˜å‚¨ä¼šè¯ä¿¡æ¯]\n    J --> K[ç™»å½•å®Œæˆ]\n```","parentNode":"group_auth","x":-1050,"y":-410,"width":600,"height":400,"color":"4"},
		{"id":"node_login_strategy_factory","type":"text","text":"## [[LoginStrategyFactory]]\n> [!info] èŒè´£æè¿°\n> ç™»å½•ç­–ç•¥å·¥å‚ï¼Œè´Ÿè´£æ ¹æ®ç™»å½•ç±»å‹åˆ›å»ºå¯¹åº”çš„ç™»å½•ç­–ç•¥\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `getLoginStrategy()`: æ ¹æ®ç™»å½•ç±»å‹è·å–ç™»å½•ç­–ç•¥\n- `getSupportedLoginTypes()`: è·å–æ‰€æœ‰æ”¯æŒçš„ç™»å½•ç±»å‹\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `List<LoginStrategy>`: æ‰€æœ‰ç™»å½•ç­–ç•¥çš„åˆ—è¡¨\n\n### ğŸ·ï¸ è®¾è®¡æ¨¡å¼\n- **å·¥å‚æ¨¡å¼**: åˆ›å»ºä¸åŒçš„ç™»å½•ç­–ç•¥\n- **ä¾èµ–æ³¨å…¥**: é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥æ‰€æœ‰ç™»å½•ç­–ç•¥\n\n```mermaid\nflowchart TD\n    A[è·å–ç™»å½•ç­–ç•¥] --> B[éªŒè¯ç™»å½•ç±»å‹]\n    B --> C{ç­–ç•¥å­˜åœ¨?}\n    C -->|æ˜¯| D[è¿”å›ç­–ç•¥]\n    C -->|å¦| E[æŠ›å‡ºå¼‚å¸¸]\n```","parentNode":"group_auth","x":-1200,"y":340,"width":500,"height":300,"color":"4"},
		{"id":"node_salesforce_login_service","type":"text","text":"## [[SalesforceLoginServiceImpl]]\n> [!info] èŒè´£æè¿°\n> å®ç°Salesforceç™»å½•çš„ä¸šåŠ¡é€»è¾‘ï¼Œç®¡ç†ç™»å½•ç­–ç•¥çš„è°ƒç”¨ï¼Œå¤„ç†ç™»å½•çŠ¶æ€çš„ä¿å­˜ä¸è·å–ï¼Œè®°å½•ç™»å½•å†å²\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `login()`: æ‰§è¡ŒSalesforceç™»å½•æ“ä½œ\n- `logout()`: æ‰§è¡ŒSalesforceç™»å‡ºæ“ä½œ\n- `getCurrentLoginResult()`: è·å–å½“å‰ç™»å½•ç»“æœ\n- `autoLogin()`: è‡ªåŠ¨ç™»å½•\n- `getCurrentLoginInfo()`: è·å–å½“å‰ç™»å½•ä¿¡æ¯\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `LoginStrategyFactory`: ç™»å½•ç­–ç•¥å·¥å‚\n- `IDataiSfLoginSessionService`: ç™»å½•ä¼šè¯æœåŠ¡\n- `IDataiSfLoginHistoryService`: ç™»å½•å†å²æœåŠ¡\n\n### ğŸ·ï¸ è®¾è®¡æ¨¡å¼\n- **ç­–ç•¥æ¨¡å¼**: ä½¿ç”¨ä¸åŒçš„ç™»å½•ç­–ç•¥å¤„ç†ä¸åŒç±»å‹çš„ç™»å½•\n- **å·¥å‚æ¨¡å¼**: é€šè¿‡å·¥å‚åˆ›å»ºç™»å½•ç­–ç•¥\n\n```mermaid\nflowchart TD\n    A[å¼€å§‹ç™»å½•] --> B[è·å–ç™»å½•ç­–ç•¥]\n    B --> C[æ‰§è¡Œç™»å½•]\n    C --> D{ç™»å½•æˆåŠŸ?}\n    D -->|æ˜¯| E[ä¿å­˜ç™»å½•ä¼šè¯]\n    D -->|å¦| F[ä¿å­˜å¤±è´¥å†å²]\n    E --> G[ä¿å­˜æˆåŠŸå†å²]\n    G --> H[æ›´æ–°ç¼“å­˜]\n    F --> I[è¿”å›å¤±è´¥ç»“æœ]\n    H --> J[è¿”å›æˆåŠŸç»“æœ]\n```","parentNode":"group_auth","x":-2700,"y":2050,"width":600,"height":400,"color":"4"},
		{"id":"node_integration_model","type":"text","text":"## é›†æˆæ¨¡å‹\n> [!info] èŒè´£æè¿°\n> å®šä¹‰é›†æˆç›¸å…³çš„æ•°æ®æ¨¡å‹\n\n### é¢†åŸŸæ¨¡å‹\n- [[DataiIntegrationApiCallLog]]: APIè°ƒç”¨æ—¥å¿—\n- [[DataiIntegrationBatch]]: æ‰¹å¤„ç†ä»»åŠ¡\n- [[DataiIntegrationBatchHistory]]: æ‰¹å¤„ç†å†å²\n- [[DataiIntegrationField]]: å­—æ®µæ˜ å°„\n- [[DataiIntegrationFilterLookup]]: è¿‡æ»¤æŸ¥è¯¢\n- [[DataiIntegrationMetadataChange]]: å…ƒæ•°æ®å˜æ›´\n- [[DataiIntegrationObject]]: å¯¹è±¡æ˜ å°„\n- [[DataiIntegrationPicklist]]: é€‰æ‹©åˆ—è¡¨\n- [[DataiIntegrationRateLimit]]: é™æµè®°å½•\n- [[DataiIntegrationSyncLog]]: åŒæ­¥æ—¥å¿—\n\n### DTO\n- [[AlertDTO]]: å‘Šè­¦DTO\n- [[DataiConfigurationDto]]: é…ç½®DTO\n- [[LimitConfigDTO]]: é™æµé…ç½®DTO\n- [[LogStatisticsDTO]]: æ—¥å¿—ç»Ÿè®¡DTO\n- [[RealTimeStatusDTO]]: å®æ—¶çŠ¶æ€DTO\n- [[TrendDTO]]: è¶‹åŠ¿DTO\n- [[UsageStatisticsDTO]]: ä½¿ç”¨ç»Ÿè®¡DTO\n\n### å‚æ•°\n- [[DataiSyncParam]]: åŒæ­¥å‚æ•°\n\n### VO\n- [[DataiIntegrationApiCallLogVo]]: APIè°ƒç”¨æ—¥å¿—VO\n- [[DataiIntegrationBatchVo]]: æ‰¹å¤„ç†ä»»åŠ¡VO\n- [[DataiIntegrationFieldVo]]: å­—æ®µæ˜ å°„VO\n- [[DataiIntegrationObjectVo]]: å¯¹è±¡æ˜ å°„VO\n- [[DataiIntegrationSyncLogVo]]: åŒæ­¥æ—¥å¿—VO\n\n**è®¾è®¡æ„å›¾**ï¼šå®šä¹‰é›†æˆç›¸å…³çš„æ•°æ®æ¨¡å‹ï¼Œæ”¯æŒæ•°æ®åŒæ­¥ã€ç›‘æ§å’Œç®¡ç†åŠŸèƒ½","parentNode":"group_integration","x":850,"y":-360,"width":600,"height":300,"color":"1"},
		{"id":"node_setting_config","type":"text","text":"## [[SalesforceConfigCacheManager]]\n> [!info] èŒè´£æè¿°\n> ç®¡ç†Salesforceé…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬é…ç½®ç¼“å­˜ã€ç¯å¢ƒåˆ‡æ¢ç­‰åŠŸèƒ½\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- `init()`: ç³»ç»Ÿå¯åŠ¨æ—¶åˆå§‹åŒ–é…ç½®ç¼“å­˜\n- `loadConfigToCache()`: å°†é…ç½®åŠ è½½åˆ°ç¼“å­˜\n- `resetConfigCache()`: é‡ç½®é…ç½®ç¼“å­˜\n- `clearConfigCache()`: æ¸…ç©ºé…ç½®ç¼“å­˜\n- `getConfigValue(String configKey)`: è·å–é…ç½®å€¼\n- `switchEnvironment(String environmentCode)`: åŠ¨æ€åˆ‡æ¢ç¯å¢ƒ\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `DataiConfigurationMapper`: é…ç½®Mapper\n- `DataiConfigEnvironmentMapper`: ç¯å¢ƒé…ç½®Mapper\n\n### æ ¸å¿ƒåŠŸèƒ½\n- **ç¼“å­˜ç®¡ç†**: ç®¡ç†Salesforceé…ç½®çš„ç¼“å­˜\n- **ç¯å¢ƒåˆ‡æ¢**: æ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®åˆ‡æ¢\n- **é…ç½®åŒæ­¥**: ç¡®ä¿é…ç½®çš„ä¸€è‡´æ€§\n- **é»˜è®¤é…ç½®**: å½“å½“å‰ç¯å¢ƒæ— é…ç½®æ—¶ï¼ŒåŠ è½½é»˜è®¤ç¯å¢ƒé…ç½®ä½œä¸ºfallback\n\n```mermaid\nflowchart TD\n    A[ç³»ç»Ÿå¯åŠ¨] --> B[åˆå§‹åŒ–ç¯å¢ƒä¿¡æ¯]\n    B --> C[åŠ è½½é…ç½®åˆ°ç¼“å­˜]\n    C --> D{å½“å‰ç¯å¢ƒæœ‰é…ç½®?}\n    D -->|æ˜¯| E[åŠ è½½å½“å‰ç¯å¢ƒé…ç½®]\n    D -->|å¦| F[åŠ è½½é»˜è®¤ç¯å¢ƒé…ç½®]\n    E --> G[é…ç½®åŠ è½½å®Œæˆ]\n    F --> G\n    H[ç¯å¢ƒåˆ‡æ¢è¯·æ±‚] --> I[æ¸…ç†æ—§ç¯å¢ƒç¼“å­˜]\n    I --> J[æ›´æ–°å½“å‰ç¯å¢ƒä¿¡æ¯]\n    J --> C\n    K[é…ç½®å˜æ›´] --> L[é‡ç½®é…ç½®ç¼“å­˜]\n    L --> C\n```\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›é›†ä¸­çš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œç¡®ä¿é…ç½®çš„ä¸€è‡´æ€§å’Œå¯é æ€§ï¼Œæ”¯æŒç¯å¢ƒåˆ‡æ¢å’Œé…ç½®ç¼“å­˜ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½å’Œå¯ç»´æŠ¤æ€§","parentNode":"group_setting","x":2020,"y":140,"width":600,"height":400,"color":"4"},
		{"id":"node_setting_controller","type":"text","text":"## é…ç½®æ§åˆ¶å™¨\n> [!info] èŒè´£æè¿°\n> å¤„ç†é…ç½®ç›¸å…³çš„HTTPè¯·æ±‚\n\n### æ ¸å¿ƒæ§åˆ¶å™¨\n- [[DataiConfigurationController]]: é…ç½®ä¸»æ§åˆ¶å™¨\n- [[DataiConfigEnvironmentController]]: ç¯å¢ƒé…ç½®æ§åˆ¶å™¨\n- [[DataiConfigAuditLogController]]: å®¡è®¡æ—¥å¿—æ§åˆ¶å™¨\n- [[DataiConfigSnapshotController]]: é…ç½®å¿«ç…§æ§åˆ¶å™¨\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- **é…ç½®ç®¡ç†**: åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€æŸ¥è¯¢é…ç½®\n- **ç¯å¢ƒç®¡ç†**: ç¯å¢ƒçš„åˆ‡æ¢å’Œç®¡ç†\n- **å®¡è®¡æ—¥å¿—**: é…ç½®å˜æ›´çš„å®¡è®¡è®°å½•æŸ¥è¯¢\n- **å¿«ç…§ç®¡ç†**: é…ç½®å¿«ç…§çš„åˆ›å»ºå’Œæ¢å¤\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- `IDataiConfigurationService`: é…ç½®æœåŠ¡\n- `IDataiConfigEnvironmentService`: ç¯å¢ƒé…ç½®æœåŠ¡\n- `IDataiConfigAuditLogService`: å®¡è®¡æ—¥å¿—æœåŠ¡\n- `IDataiConfigSnapshotService`: å¿«ç…§æœåŠ¡\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›é…ç½®ç®¡ç†çš„RESTæ¥å£ï¼Œæ”¯æŒå‰ç«¯æ“ä½œå’Œé›†æˆè°ƒç”¨ï¼Œå®ç°é…ç½®çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†","parentNode":"group_setting","x":2020,"y":740,"width":600,"height":300,"color":"5"},
		{"id":"node_setting_service","type":"text","text":"## é…ç½®æœåŠ¡\n> [!info] èŒè´£æè¿°\n> å®ç°é…ç½®ç®¡ç†çš„ä¸šåŠ¡é€»è¾‘\n\n### æ ¸å¿ƒæœåŠ¡æ¥å£\n- [[IDataiConfigurationService]]: é…ç½®æœåŠ¡\n- [[IDataiConfigEnvironmentService]]: ç¯å¢ƒé…ç½®æœåŠ¡\n- [[IDataiConfigAuditLogService]]: å®¡è®¡æ—¥å¿—æœåŠ¡\n- [[IDataiConfigSnapshotService]]: å¿«ç…§æœåŠ¡\n\n### æœåŠ¡å®ç°\n- [[DataiConfigurationServiceImpl]]: é…ç½®æœåŠ¡å®ç°\n- [[DataiConfigEnvironmentServiceImpl]]: ç¯å¢ƒé…ç½®æœåŠ¡å®ç°\n- [[DataiConfigAuditLogServiceImpl]]: å®¡è®¡æ—¥å¿—æœåŠ¡å®ç°\n- [[DataiConfigSnapshotServiceImpl]]: å¿«ç…§æœåŠ¡å®ç°\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- **é…ç½®æœåŠ¡**: åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€æŸ¥è¯¢é…ç½®\n- **ç¯å¢ƒæœåŠ¡**: ç¯å¢ƒçš„åˆ‡æ¢å’Œç®¡ç†\n- **å®¡è®¡æœåŠ¡**: è®°å½•å’ŒæŸ¥è¯¢é…ç½®å˜æ›´\n- **å¿«ç…§æœåŠ¡**: é…ç½®å¿«ç…§çš„åˆ›å»ºå’Œæ¢å¤\n\n### ğŸ“‹ ä¾èµ–æ³¨å…¥\n- **é…ç½®æœåŠ¡**: DataiConfigurationMapper, ConfigChangeEventPublisher\n- **ç¯å¢ƒæœåŠ¡**: DataiConfigEnvironmentMapper, EnvironmentSwitchEventPublisher\n- **å®¡è®¡æœåŠ¡**: DataiConfigAuditLogMapper\n- **å¿«ç…§æœåŠ¡**: DataiConfigSnapshotMapper, DataiConfigurationMapper\n\n### æœåŠ¡åŠŸèƒ½\n- **é…ç½®CRUD**: é…ç½®çš„å¢åˆ æ”¹æŸ¥\n- **ç¯å¢ƒç®¡ç†**: ç¯å¢ƒçš„åˆ‡æ¢å’Œç®¡ç†\n- **å®¡è®¡è®°å½•**: è®°å½•é…ç½®å˜æ›´\n- **å¿«ç…§ç®¡ç†**: é…ç½®å¿«ç…§çš„åˆ›å»ºå’Œæ¢å¤\n\n**è®¾è®¡æ„å›¾**ï¼šå®ç°é…ç½®ç®¡ç†çš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸ºæ§åˆ¶å™¨æä¾›æœåŠ¡æ”¯æŒï¼Œå¤„ç†é…ç½®çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€æŸ¥è¯¢ã€å®¡è®¡å’Œå¿«ç…§ç®¡ç†","parentNode":"group_setting","x":2020,"y":1300,"width":600,"height":350,"color":"4"},
		{"id":"node_setting_event","type":"text","text":"## é…ç½®äº‹ä»¶\n> [!info] èŒè´£æè¿°\n> å¤„ç†é…ç½®å˜æ›´å’Œç¯å¢ƒåˆ‡æ¢äº‹ä»¶\n\n### æ ¸å¿ƒäº‹ä»¶\n- [[ConfigChangeEvent]]: é…ç½®å˜æ›´äº‹ä»¶\n- [[EnvironmentSwitchEvent]]: ç¯å¢ƒåˆ‡æ¢äº‹ä»¶\n\n### äº‹ä»¶ç›‘å¬å™¨\n- [[ConfigChangeListener]]: é…ç½®å˜æ›´ç›‘å¬å™¨\n- [[EnvironmentSwitchListener]]: ç¯å¢ƒåˆ‡æ¢ç›‘å¬å™¨\n\n### äº‹ä»¶æµç¨‹\n1. é…ç½®å˜æ›´æ—¶è§¦å‘ ConfigChangeEvent\n2. ç¯å¢ƒåˆ‡æ¢æ—¶è§¦å‘ EnvironmentSwitchEvent\n3. ç›‘å¬å™¨æ•è·äº‹ä»¶å¹¶æ‰§è¡Œç›¸åº”å¤„ç†\n\n```mermaid\nflowchart TD\n    A[é…ç½®å˜æ›´] --> B[è§¦å‘ConfigChangeEvent]\n    B --> C[ConfigChangeListenerå¤„ç†]\n    C --> D[é‡ç½®é…ç½®ç¼“å­˜]\n    E[ç¯å¢ƒåˆ‡æ¢] --> F[è§¦å‘EnvironmentSwitchEvent]\n    F --> G[EnvironmentSwitchListenerå¤„ç†]\n    G --> H[æ›´æ–°ç³»ç»ŸçŠ¶æ€]\n```\n\n**è®¾è®¡æ„å›¾**ï¼šé€šè¿‡äº‹ä»¶æœºåˆ¶å®ç°é…ç½®å˜æ›´çš„è§£è€¦å¤„ç†ï¼Œæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œæ¨¡å—åŒ–ç¨‹åº¦","parentNode":"group_setting","x":2020,"y":1825,"width":600,"height":300,"color":"4"},
		{"id":"node_setting_model","type":"text","text":"## é…ç½®æ¨¡å‹\n> [!info] èŒè´£æè¿°\n> å®šä¹‰é…ç½®ç›¸å…³çš„æ•°æ®æ¨¡å‹\n\n### é¢†åŸŸæ¨¡å‹\n- [[DataiConfiguration]]: é…ç½®ä¸»æ¨¡å‹\n- [[DataiConfigEnvironment]]: ç¯å¢ƒé…ç½®æ¨¡å‹\n- [[DataiConfigAuditLog]]: å®¡è®¡æ—¥å¿—æ¨¡å‹\n- [[DataiConfigSnapshot]]: é…ç½®å¿«ç…§æ¨¡å‹\n\n### DTO\n- [[DataiConfigurationDto]]: é…ç½®DTO\n- [[DataiConfigEnvironmentDto]]: ç¯å¢ƒé…ç½®DTO\n- [[DataiConfigAuditLogDto]]: å®¡è®¡æ—¥å¿—DTO\n- [[DataiConfigSnapshotDto]]: å¿«ç…§DTO\n\n### VO\n- [[DataiConfigurationVo]]: é…ç½®VO\n- [[DataiConfigEnvironmentVo]]: ç¯å¢ƒé…ç½®VO\n- [[DataiConfigAuditLogVo]]: å®¡è®¡æ—¥å¿—VO\n- [[DataiConfigSnapshotVo]]: å¿«ç…§VO\n\n### æ ¸å¿ƒå±æ€§\n- **é…ç½®ä¸»æ¨¡å‹**: id, configKey, configValue, environmentId, isActive, createTime, updateTime\n- **ç¯å¢ƒé…ç½®æ¨¡å‹**: id, environmentCode, environmentName, isActive, createTime, updateTime\n- **å®¡è®¡æ—¥å¿—æ¨¡å‹**: id, operationType, operationUser, objectId, objectName, beforeValue, afterValue, createTime\n- **å¿«ç…§æ¨¡å‹**: id, snapshotName, snapshotDescription, snapshotTime, createUser, configCount\n\n**è®¾è®¡æ„å›¾**ï¼šå®šä¹‰æ¸…æ™°çš„é…ç½®æ•°æ®æ¨¡å‹ï¼Œåˆ†ç¦»é¢†åŸŸæ¨¡å‹ã€DTOå’ŒVOï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œæ•°æ®ä¼ è¾“çš„è§„èŒƒæ€§","parentNode":"group_setting","x":2020,"y":2300,"width":600,"height":300,"color":"1"},
		{"id":"node_setting_mapper","type":"text","text":"## é…ç½®Mapper\n> [!info] èŒè´£æè¿°\n> å¤„ç†é…ç½®ç›¸å…³æ•°æ®çš„æŒä¹…åŒ–æ“ä½œ\n\n### æ ¸å¿ƒMapper\n- [[DataiConfigurationMapper]]: é…ç½®Mapper\n- [[DataiConfigEnvironmentMapper]]: ç¯å¢ƒé…ç½®Mapper\n- [[DataiConfigAuditLogMapper]]: å®¡è®¡æ—¥å¿—Mapper\n- [[DataiConfigSnapshotMapper]]: å¿«ç…§Mapper\n\n### æ ¸å¿ƒæ–¹æ³•\n- **é…ç½®Mapper**: é…ç½®çš„CRUDæ“ä½œ\n- **ç¯å¢ƒMapper**: ç¯å¢ƒçš„CRUDæ“ä½œ\n- **å®¡è®¡Mapper**: å®¡è®¡æ—¥å¿—çš„CRUDæ“ä½œ\n- **å¿«ç…§Mapper**: å¿«ç…§çš„CRUDæ“ä½œ\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›é…ç½®æ•°æ®çš„è®¿é—®å±‚ï¼Œå¤„ç†æ•°æ®åº“æ“ä½œï¼Œä¸ºæœåŠ¡å±‚æä¾›æ•°æ®æ”¯æŒ","parentNode":"group_setting","x":2020,"y":2725,"width":600,"height":200,"color":"6"},
		{"id":"node_setting_future","type":"text","text":"## å¼‚æ­¥ä»»åŠ¡\n> [!info] èŒè´£æè¿°\n> æä¾›å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå’Œç®¡ç†åŠŸèƒ½\n\n### æ ¸å¿ƒç±»\n- [[ComparableFutureTask]]: å¯æ¯”è¾ƒçš„Futureä»»åŠ¡\n- [[SalesforceExecutor]]: Salesforceæ‰§è¡Œå™¨\n\n### ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•\n- **å¼‚æ­¥æ‰§è¡Œ**: æ”¯æŒå¼‚æ­¥æ‰§è¡Œä»»åŠ¡\n- **ä»»åŠ¡ç®¡ç†**: ç®¡ç†ä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€\n- **ç»“æœå¤„ç†**: å¤„ç†ä»»åŠ¡æ‰§è¡Œç»“æœ\n\n### åŠŸèƒ½ç‰¹æ€§\n- **å¯æ¯”è¾ƒæ€§**: æ”¯æŒä»»åŠ¡ä¼˜å…ˆçº§æ¯”è¾ƒ\n- **çº¿ç¨‹æ± ç®¡ç†**: åˆç†ç®¡ç†çº¿ç¨‹èµ„æº\n- **å¼‚å¸¸å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶\n\n**è®¾è®¡æ„å›¾**ï¼šæä¾›å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œèƒ½åŠ›ï¼Œæé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›å’Œå“åº”é€Ÿåº¦ï¼Œæ”¯æŒé…ç½®ç®¡ç†ä¸­çš„å¼‚æ­¥æ“ä½œ","parentNode":"group_setting","x":1300,"y":3325,"width":600,"height":250,"color":"4"},
		{"id":"node_integration_proxy","type":"text","text":"## é›†æˆä»£ç†\n> [!info] èŒè´£æè¿°\n> ä¸ºSalesforceè¿æ¥æä¾›ä»£ç†åŠŸèƒ½\n\n### æ ¸å¿ƒä»£ç†\n- [[ConnectionProxy]]: è¿æ¥ä»£ç†\n\n### åŠŸèƒ½ç‰¹æ€§\n- **è¿æ¥ç›‘æ§**: ç›‘æ§è¿æ¥çš„ä½¿ç”¨æƒ…å†µ\n- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€å¤„ç†è¿æ¥é”™è¯¯\n- **é‡è¯•æœºåˆ¶**: è‡ªåŠ¨é‡è¯•å¤±è´¥çš„è¯·æ±‚\n- **æ€§èƒ½ç»Ÿè®¡**: ç»Ÿè®¡è¿æ¥çš„æ€§èƒ½æŒ‡æ ‡\n\n**è®¾è®¡æ„å›¾**ï¼šä¸ºSalesforceè¿æ¥æä¾›ä»£ç†åŠŸèƒ½ï¼Œå¢å¼ºè¿æ¥çš„å¯é æ€§å’Œå¯ç›‘æ§æ€§","parentNode":"group_integration","x":360,"y":1650,"width":500,"height":200,"color":"5"}
	],
	"edges":[
		{"id":"edge_auth_controller_to_service","fromNode":"node_auth_controller","fromSide":"bottom","toNode":"node_salesforce_login_service","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_login_history_controller_to_service","fromNode":"node_login_history_controller","fromSide":"bottom","toNode":"node_salesforce_login_service","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_login_session_controller_to_service","fromNode":"node_login_session_controller","fromSide":"bottom","toNode":"node_salesforce_login_service","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_salesforce_login_service_to_strategy","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_login_strategy","toSide":"left","color":"4","label":"ä½¿ç”¨ç­–ç•¥"},
		{"id":"edge_salesforce_login_service_to_oauth2","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_oauth2_strategy","toSide":"left","color":"4","label":"ä½¿ç”¨OAuth2ç­–ç•¥"},
		{"id":"edge_salesforce_login_service_to_model","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_auth_model","toSide":"left","color":"4","label":"ä½¿ç”¨æ¨¡å‹"},
		{"id":"edge_salesforce_login_service_to_mapper","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_auth_mapper","toSide":"left","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_login_strategy_to_factory","fromNode":"node_login_strategy","fromSide":"right","toNode":"node_login_strategy_factory","toSide":"left","color":"4","label":"ä½¿ç”¨å·¥å‚"},
		{"id":"edge_auth_to_integration","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_session_manager_detail","toSide":"left","color":"4","label":"æä¾›ç™»å½•æœåŠ¡"},
		{"id":"edge_integration_to_common","fromNode":"node_integration_core","fromSide":"right","toNode":"node_common_util","toSide":"left","color":"4","label":"ä½¿ç”¨å·¥å…·ç±»"},
		{"id":"edge_auth_to_common","fromNode":"node_login_strategy","fromSide":"right","toNode":"node_common_constant","toSide":"left","color":"4","label":"ä½¿ç”¨å¸¸é‡"},
		{"id":"edge_oauth2_to_session","fromNode":"node_oauth2_strategy","fromSide":"right","toNode":"node_session_manager_detail","toSide":"left","color":"4","label":"æä¾›ç™»å½•ç»“æœ"},
		{"id":"edge_session_to_connections","fromNode":"node_session_manager_detail","fromSide":"bottom","toNode":"node_integration_connections","toSide":"top","color":"4","label":"æä¾›ä¼šè¯ä¿¡æ¯"},
		{"id":"edge_integration_core_to_task","fromNode":"node_integration_core","fromSide":"bottom","toNode":"node_integration_task","toSide":"top","color":"4","label":"æä¾›è¿æ¥"},
		{"id":"edge_integration_core_to_model","fromNode":"node_integration_core","fromSide":"bottom","toNode":"node_integration_model","toSide":"top","color":"4","label":"ä½¿ç”¨æ¨¡å‹"},
		{"id":"edge_integration_task_to_mapper","fromNode":"node_integration_task","fromSide":"bottom","toNode":"node_integration_mapper","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_integration_core_to_proxy","fromNode":"node_integration_core","fromSide":"bottom","toNode":"node_integration_proxy","toSide":"top","color":"4","label":"ä½¿ç”¨ä»£ç†"},
		{"id":"edge_salesforce_login_service_to_exception","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_common_exception","toSide":"left","color":"4","label":"ä½¿ç”¨å¼‚å¸¸ç±»"},
		{"id":"edge_oauth2_strategy_to_exception","fromNode":"node_oauth2_strategy","fromSide":"right","toNode":"node_common_exception","toSide":"left","color":"4","label":"ä½¿ç”¨å¼‚å¸¸ç±»"},
		{"id":"edge_session_manager_to_exception","fromNode":"node_session_manager_detail","fromSide":"right","toNode":"node_common_exception","toSide":"left","color":"4","label":"ä½¿ç”¨å¼‚å¸¸ç±»"},
		{"id":"edge_login_service_to_setting","fromNode":"node_salesforce_login_service","fromSide":"right","toNode":"node_setting_config","toSide":"left","color":"4","label":"ä½¿ç”¨é…ç½®ç®¡ç†"},
		{"id":"edge_oauth2_strategy_to_setting","fromNode":"node_oauth2_strategy","fromSide":"right","toNode":"node_setting_config","toSide":"left","color":"4","label":"ä½¿ç”¨é…ç½®ç®¡ç†"},
		{"id":"edge_setting_controller_to_service","fromNode":"node_setting_controller","fromSide":"bottom","toNode":"node_setting_service","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_setting_service_to_model","fromNode":"node_setting_service","fromSide":"bottom","toNode":"node_setting_model","toSide":"top","color":"4","label":"ä½¿ç”¨æ¨¡å‹"},
		{"id":"edge_setting_service_to_mapper","fromNode":"node_setting_service","fromSide":"bottom","toNode":"node_setting_mapper","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_setting_service_to_event","fromNode":"node_setting_service","fromSide":"left","toNode":"node_setting_event","toSide":"right","color":"4","label":"è§¦å‘äº‹ä»¶"},
		{"id":"edge_integration_to_realtime_sync","fromNode":"node_integration_core","fromSide":"bottom","toNode":"node_realtime_sync","toSide":"top","color":"4","label":"æä¾›è¿æ¥"},
		{"id":"edge_realtime_sync_to_mapper","fromNode":"node_realtime_sync","fromSide":"bottom","toNode":"node_integration_mapper","toSide":"top","color":"4","label":"è°ƒç”¨"},
		{"id":"edge_realtime_sync_to_log","fromNode":"node_realtime_sync","fromSide":"right","toNode":"node_realtime_sync_log","toSide":"left","color":"4","label":"è®°å½•æ—¥å¿—"}
	],
	"groups":[
		{"id":"group_auth","label":"ğŸ“¦ è®¤è¯æ¨¡å— (datai-salesforce-auth)","x":-1200,"y":0,"width":900,"height":3000,"color":"4"},
		{"id":"group_integration","label":"ğŸ“¦ é›†æˆæ¨¡å— (datai-salesforce-integration)","x":-150,"y":0,"width":750,"height":3300,"color":"4"},
		{"id":"group_common","label":"ğŸ“¦ é€šç”¨æ¨¡å— (datai-salesforce-common)","x":550,"y":0,"width":650,"height":2300,"color":"6"},
		{"id":"group_setting","label":"ğŸ“¦ é…ç½®æ¨¡å— (datai-salesforce-setting)","x":1200,"y":0,"width":800,"height":3300,"color":"4"}
	]
}