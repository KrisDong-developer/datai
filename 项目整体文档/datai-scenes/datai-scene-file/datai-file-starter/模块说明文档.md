# datai-file-starter 模块说明文档

## 模块概述

datai-file-starter 是 datai-scene-file 场景的启动器模块，提供文件管理的 REST API 接口和统一访问入口。该模块整合了所有文件存储实现，为应用程序提供统一的文件上传、下载、预览和管理功能，支持多种存储后端的无缝切换。

## 核心功能

### 1. 统一文件操作接口
- 提供统一的文件上传接口，支持指定存储类型和存储桶
- 实现统一的文件下载接口，支持按存储类型和存储桶定向下载
- 提供文件预览功能，支持在线查看各类文件内容
- 支持本地资源通用下载，兼容传统文件访问方式

### 2. 分片上传支持
- 实现完整的分片上传流程，包括初始化、分片上传和合并操作
- 提供分片上传状态管理和错误处理机制
- 支持大文件分片上传，提高网络传输效率
- 自动创建文件记录并维护文件元数据

### 3. 文件信息管理
- 提供文件信息的增删改查功能
- 支持文件列表查询和分页展示
- 实现文件信息的批量导出功能
- 集成权限控制，确保文件操作的安全性

### 4. 多存储支持
- 自动集成所有存储实现（本地、MinIO、阿里云OSS）
- 提供存储客户端列表查询功能
- 支持主存储配置和动态存储切换
- 统一存储配置管理和验证机制

## 主要特性

### 1. 统一接口设计
- 提供标准化的 REST API 接口，简化客户端调用
- 支持灵活的路径参数配置，适应不同使用场景
- 实现统一的错误处理和响应格式

### 2. 高性能处理
- 支持流式文件传输，减少内存占用
- 实现高效的分片上传算法，优化大文件处理
- 提供文件预览功能，减少不必要的数据传输

### 3. 安全机制
- 集成权限控制，确保文件操作的安全性
- 支持文件访问路径验证，防止非法访问
- 实现文件类型和大小限制，防止恶意上传

### 4. 易于集成
- 提供完整的 Spring Boot 自动配置
- 集成 Swagger 文档，便于接口理解和使用
- 支持多种文件操作场景，满足不同业务需求

## 模块定位

datai-file-starter 作为文件存储场景的统一入口，为系统提供：
- 完整的文件管理 REST API
- 多存储后端的统一访问接口
- 文件元数据管理和查询功能
- 大文件分片上传和处理能力

该模块是文件管理系统的对外服务层，为前端应用和其他服务提供标准化的文件操作接口，隐藏底层存储实现的复杂性，简化文件管理功能的集成和使用。